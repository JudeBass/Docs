


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create a bootable MicroSD Card &mdash; UDOO b documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="UDOO b documentation" href="index.html"/>
        <link rel="next" title="Available Operating Systems for UDOO" href="operatingsystems.html"/>
        <link rel="prev" title="Getting Started with UDOO" href="gettingstarted.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> UDOO</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started with UDOO</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Create a bootable MicroSD Card</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">LINUX</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mac-os-x">MAC OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-microsd-card-from-binaries">Create a MicroSD Card from Binaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="operatingsystems.html">Available Operating Systems for UDOO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="operatingsystems.html#official-operating-systems">Official Operating Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="operatingsystems.html#other-operating-systems">Other Operating Systems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="remoteusage.html">Operating UDOO Remotely</a><ul>
<li class="toctree-l2"><a class="reference internal" href="remoteusage.html#connecting-via-ssh">Connecting via SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="remoteusage.html#connecting-via-usb-serial-cable">Connecting via USB Serial Cable</a></li>
<li class="toctree-l2"><a class="reference internal" href="remoteusage.html#connect-via-vnc-remote-desktop">Connect via VNC Remote Desktop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arduinoquickstart.html">Arduino Programming QuickStart</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandbasics.html">Linux Command Line Basics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="serial.html">Imx6 and Sam3x Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="linuxgpio.html">GPIO manipulation from Linux</a></li>
</ul>
<ul class="simple">
</ul>
<ul class="simple">
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">UDOO</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Create a bootable MicroSD Card</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/createsdcard.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="create-a-bootable-microsd-card">
<h1>Create a bootable MicroSD Card<a class="headerlink" href="#create-a-bootable-microsd-card" title="Permalink to this headline">¶</a></h1>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<div style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe src="http://www.youtube.com/embed/vMAZZzTQsS4" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div><ul class="simple">
<li>Download <a class="reference external" href="_utils/Win32DiskImager-0.9.5-install.exe">Win32DiskImager</a> Utility, Install and launch it</li>
<li>Insert a MicroSD Card (at least 8gb) into SD Card Slot or external reader</li>
<li>If the micro SD card (Device) used is not detected automatically, click on the drop down box on the right and select the identifier of the micro SD card that has been plugged in (e.g. [H:])
<strong>WARNING: Make sure you&#8217;re using the correct driver identifier! Mistakes here could lead to data loss!</strong></li>
<li>In the Image File box, choose the downloaded <em>.img</em> file and click <em>Write</em>
Note: click YES in case it pops up a warning message.</li>
<li>The microSD card is now ready to be used. Simply insert it in UDOO’s microSD Card slot and boot the system.</li>
</ul>
<img alt="_static/images/msdwin.png" src="_static/images/msdwin.png" />
</div>
<div class="section" id="linux">
<h2>LINUX<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<div style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe src="http://www.youtube.com/embed/044ijVTUaqs" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div><ul>
<li><p class="first">From the terminal run:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</li>
</ul>
<p>If the computer used has a slot for SD cards (SD to micro SD adapter needed), insert the card. If not, insert the card
into any SD card reader and then connect it to the computer</p>
<ul>
<li><p class="first">Run again:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</li>
</ul>
<p>The device that had not been listed before is the micro SD card just inserted. The left column will show the device name
assigned to the micro SD card. It will have a name similar to “/dev/mmcblk0p1″ or “/dev/sdd1″. The last part of the name
(“p1″ or “1″, respectively) is the partition number, but it is necessary to write on the whole micro SD card, not only
on one partition. Therefore, it is necessary to remove that part from the name (for example “/dev/mmcblk0″ or “/dev/sdd”)
in order to work with the whole micro SD card.
If the micro SD card contains more than one partition, it is necessary to unmount all of these partitions (using the
correct name found previously, followed by the letters and numbers identifying the partitions) using the command:</p>
<div class="highlight-python"><pre>sudo umount /dev/sdd1</pre>
</div>
<ul>
<li><p class="first">Now, write the image on the micro SD card with the command:</p>
<p>sudo dd bs=1M if=img_file_path of=/dev/sd_name</p>
</li>
</ul>
<p><strong>WARNING!Please be sure that you replaced the argument of input file (if=&lt;img_file_path&gt;) with the pathof the .img file, and that
the device name specified in output file’s argument (of=/dev/&lt;sd_name&gt;) is correct. An incorrect device name could lead to
data loss!</strong>:</p>
<div class="highlight-python"><pre>sudo dd bs=1M if=/home/&lt;user_name&gt;/Download/2013-5-28-udoo-ubuntu.img of=/dev/sdd</pre>
</div>
<ul class="simple">
<li>Once dd completes, run the sync command as root or run sudo sync as a normal user (this will ensure that the write cache</li>
</ul>
<p>is flushed and that it is safe to unmount the micro SD card). Then run:</p>
<div class="highlight-python"><pre>sudo umount /media/&lt;sd_label&gt;</pre>
</div>
<ul class="simple">
<li>The micro SD card is now ready to be used. Simply, insert it in UDOO’s microSD Card slot and boot the system.</li>
</ul>
</div>
<div class="section" id="mac-os-x">
<h2>MAC OS X<a class="headerlink" href="#mac-os-x" title="Permalink to this headline">¶</a></h2>
<div style="padding-bottom: 56.250000%; padding-top: 30px; position: relative; width: 100%">
<iframe src="http://www.youtube.com/embed/A4iRKyJHtT4" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div><p>Note: May not work with OSX 10.9 Mavericks</p>
<p>From the terminal run:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>If the Mac has a slot for SD cards (SD to micro SD adapter needed), insert the card. If not, insert the card into any SD
card reader and then connect it to the Mac.
Note: the microSD card must be formatted usingFAT32 File System!</p>
<p>Run again:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">df</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<p>The device that had not been listed before is the microSD card just inserted. The name shown will be that of the
filesystem’s partition, for example, /dev/disk3s1. Now consider the raw device name for using the entire disk, by
omitting the final “s1″ and replacing “disk” with “rdisk” (considering previous example, use rdisk3, not disk3 nor
rdisk3s1). This is very important, since it could result in the loss of all data of the disk of the Mac used, when
referring to the wrong device name. Since there could be other SD with different drive names/numbers, like rdisk2 or
rdisk4, etc. check again the correct name of the microSD card by using the df -h command both before &amp; after the
insertion of the microSD card into the Mac used.:</p>
<div class="highlight-python"><pre>/dev/disk3s1 =&gt; /dev/rdisk3</pre>
</div>
<p>If the microSD card contains more partitions, unmount all of these partitions (use the correct name found previously,
followed by letters and numbers that identify the partitions) with the command:</p>
<div class="highlight-python"><pre>sudo diskutil unmount /dev/disk3s1</pre>
</div>
<p>Now write the image on the microSD card using the command:</p>
<div class="highlight-python"><pre>sudo dd bs=1m if=path_del_file_img of=/dev/&lt;sd_name&gt;</pre>
</div>
<p>Please be sure that you replaced the argument of input file (if=&lt;img_file_path&gt;) with the path to the .img file, and
that the device name specified in output file’s argument (of=/dev/&lt;sd_name&gt;) is correct. This is very important, since
it could result in the loss of all data of the disk of the Mac used, when referring to the wrong device name.). Please
also be sure that the device name is that of the whole micro SD card as described above, not just a partition
(for example, rdisk3, not disk3s1).:</p>
<div class="highlight-python"><pre>sudo dd bs=1m if=/home/user_name/Download/2013-5-28-udoo-ubuntu.img of=/dev/rdisk3</pre>
</div>
<p>Once dd completes, run the sync command as root or run sudo sync as a normal user (this will ensure that the write cache
is flushed and that it is safe to unmount the micro SD card). Then run:</p>
<div class="highlight-python"><pre>sudo diskutil eject /dev/rdisk3</pre>
</div>
<p>The micro SD card is now ready to be used. Simply, insert it in UDOO’s microSD Card slot and boot the system.</p>
</div>
<div class="section" id="create-a-microsd-card-from-binaries">
<h2>Create a MicroSD Card from Binaries<a class="headerlink" href="#create-a-microsd-card-from-binaries" title="Permalink to this headline">¶</a></h2>
<p>The following paragraphs will guide to in the creation of a bootable micro SD card for UDOO board, starting from
precompiled binaries. This method offers more flexibility and customization opportunities for the average users.
If you don’t feel confident about using binaries you should use the image file method to create your Micro SD card.
Note: The following step by step guide is referred to a Linux System.</p>
<dl class="docutils">
<dt>A bootable SD card has 4 different elements:</dt>
<dd><ul class="first last simple">
<li>U-Boot (it&#8217;s a .imx file)</li>
<li>Kernel (it&#8217;s an uImage file)</li>
<li>Kernel&#8217;s modules (it&#8217;s a compressed file, e.g. .tar.gz)</li>
<li>File System (it&#8217;s a compressed file, e.g. .tar.gz)</li>
</ul>
</dd>
</dl>
<p>Create a new folder &#8220;udoo-dev&#8221; under your Home directory, then browse the UDOO&#8217;s web site to the Download page and
download the binaries you need.</p>
<p><strong>Partition the MicroSD card</strong></p>
<p>Insert the Micro SD card in the card reader and launch GParted from command line:</p>
<div class="highlight-python"><pre>sudo gparted</pre>
</div>
<p>Select the Micro SD from the drop down menu, e.g. /dev/sdc.</p>
<p>NOTE: Be sure you’ re using the correct label; using of the wrong device identifier could result in the loss of
all data on the Hard Drive of the host PC used.</p>
<p>Create a partition table from the top menu: Device → Create Partition Table... → Apply.</p>
<dl class="docutils">
<dt>Create a new partition with the following parameters</dt>
<dd><ul class="first last simple">
<li>Free space preceding (MiB): 10</li>
<li>New size (MiB): based to the SD size</li>
<li>Free space following (MiB): 10</li>
<li>Create as: Primary partition</li>
<li>File system: ext3 (ext4 is not supported yet)</li>
<li>Label: &lt;UDOO_MICROSD_LABEL&gt;</li>
</ul>
</dd>
</dl>
<p>Click on Apply and wait for the partition to be done, then exit GParted.</p>
<p><strong>Copy the files to the Micro SD card</strong></p>
<p>File System
Mount the just-created partition and then extract the tar.gz file containing the filesystem inside the microSD card
with the following command (this operation could take up to 30 minutes):</p>
<div class="highlight-python"><pre>sudo tar -xzvpf &lt;NAME_OF_TAR_FS&gt; -C /media/&lt;UDOO_MICROSD_LABEL&gt;/</pre>
</div>
<p><em>Note: Always remember to replace the strings inside the brackets with the right filenames.</em></p>
<p><strong>Kernel Image</strong></p>
<p>Copy the binary inside the Micro SD card /boot folder by using the following command:</p>
<div class="highlight-python"><pre>sudo cp uImage /media/&lt;UDOO_MICROSD_LABEL&gt;/boot</pre>
</div>
<p><strong>Kernel&#8217;s modules</strong></p>
<p>Remove the existing modules from the file system:</p>
<div class="highlight-python"><pre>sudo rm -rv /media/&lt;UDOO_MICROSD_LABEL&gt;/lib/modules/*</pre>
</div>
<p>Copy the new modules:</p>
<div class="highlight-python"><pre>sudo cp -av lib /media/&lt;UDOO_MICROSD_LABEL&gt;/</pre>
</div>
<p><strong>Install the U-Boot</strong></p>
<p>Unmount all the microSD partitions:</p>
<div class="highlight-python"><pre>sudo umount /dev/&lt;MICROSD_DEVICE_NAME&gt;*</pre>
</div>
<p>Copy the u-boot binary file inside the Micro SD.</p>
<dl class="docutils">
<dt>For UDOO Quad::</dt>
<dd>sudo dd if=u-boot-q.imx of=/dev/&lt;MICROSD_DEVICE_NAME&gt; bs=512 seek=2</dd>
<dt>For UDOO Dual::</dt>
<dd>sudo dd if=u-boot-d.imx of=/dev/&lt;MICROSD_DEVICE_NAME&gt; bs=512 seek=2</dd>
</dl>
<p><em>NOTE: Be sure you’ re using the correct device filename; use of the wrong device identifier could result in the loss
of all data on the Hard Drive of the host PC used. Before remove the Micro SD card run the command to write any data
buffered in memory out to disk</em>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sync</span>
</pre></div>
</div>
<p><strong>The microSD card is now ready.</strong></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="operatingsystems.html" class="btn btn-neutral float-right" title="Available Operating Systems for UDOO"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gettingstarted.html" class="btn btn-neutral" title="Getting Started with UDOO"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'',
            VERSION:'b',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>